---
title: "2íƒ„ : ìë°”ìŠ¤í¬ë¦½íŠ¸ Promise ì‰½ê²Œ ì´í•´í•˜ê¸°"
date: 2021-10-20
categories: javascript
toc: true
toc_sticky: true


---

# Promiseê°€ ë­”ê°€ìš”?

> **â€œA promise is an object that may produce a single value some time in the futureâ€**

í”„ë¡œë¯¸ìŠ¤ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ì´ë‹¤. ì—¬ê¸°ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë€ â€˜íŠ¹ì • ì½”ë“œì˜ ì‹¤í–‰ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ìŒ ì½”ë“œë¥¼ ë¨¼ì € ìˆ˜í–‰í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì„±â€™ì„ ì˜ë¯¸í•œë‹¤. ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ì´í•´ê°€ ì—†ë‹¤ë©´ [ì´ì „ ê¸€ â€˜ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ì½œë°± í•¨ìˆ˜â€™](https://jenniexxi.github.io/javascript/asynchronous-processing-callback/)ë¥¼ ì½ì–´ë³´ì.

# Promise

> The **`Promise`** object represents the eventual completion (or failure) of an asynchronous operation and its resulting value.
>
> **`Promise`** ê°ì²´ëŠ” ë¹„ë™ê¸° ì‘ì—…ì´ ë§ì´í•  ë¯¸ë˜ì˜ ì™„ë£Œ ë˜ëŠ” ì‹¤íŒ¨ì™€ ê·¸ ê²°ê³¼ ê°’ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

`Promise`ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì—¬ê¸°ì„œ ìƒíƒœë€ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ê³¼ì •ì„ ì˜ë¯¸í•œë‹¤. `new Promises()`ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì¢…ë£Œë  ë•Œê¹Œì§€ 3ê°€ì§€ ìƒíƒœë¥¼ ê°–ëŠ”ë‹¤.

- Pending(ëŒ€ê¸°) : ì´í–‰í•˜ê±°ë‚˜ ê±°ë¶€ë˜ì§€ ì•Šì€ ì´ˆê¸° ìƒíƒœ. ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì´ ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœ
- Fulfilled(ì´í–‰) : ì—°ì‚°ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë¨. ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì–´ í”„ë¡œë¯¸ìŠ¤ê°€ ê²°ê³¼ ê°’ì„ ë°˜í™˜í•´ì¤€ ìƒíƒœ
- ê±°ë¶€(*rejected)*: ì—°ì‚°ì´ ì‹¤íŒ¨í•¨. ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ìƒíƒœ

## Pending(ëŒ€ê¸°)

ì•„ë˜ì™€ ê°™ì´ `new Promise()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ëŒ€ê¸°(Pending) ìƒíƒœê°€ ëœë‹¤.

```javascript
new Promise();
```

`new Promise()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì½œë°± í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆê³ , ì½œë°± í•¨ìˆ˜ì˜ ì¸ìëŠ” `resolve`, `reject` ì´ë‹¤.

```javascript
new Promise(function(resolve, reject))
```

## Fulfilled(ì´í–‰)

ì—¬ê¸°ì„œ ì½œë°± í•¨ìˆ˜ì˜ ì¸ì `resolve`ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰í•˜ë©´ ì´í–‰(Fulfilled) ìƒíƒœê°€ ëœë‹¤.

```javascript
new Promise(function(resolve, reject) {
	resolve();
})
```

ê·¸ë¦¬ê³  ì´í–‰ ìƒíƒœê°€ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ `then()` ì„ ì´ìš©í•˜ì—¬ ì²˜ë¦¬ ê²°ê³¼ ê°’ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.

```javascript
function getData() {
  return new Promise(function (resolve, reject) {
    const data = 100;
    resolve(data);
  });
}

//resolve()ì˜ ê²°ê³¼ ê°’ dataë¥¼ resolvedData ë¡œ ë°›ìŒ
getData().then(function (resolvedData) {
  console.log(resolvedData); //100
});
```

âš ï¸í”„ë¡œë¯¸ìŠ¤ì˜ 'ì´í–‰' ìƒíƒœë¥¼ ë‹¤ë¥´ê²Œ í‘œí˜„í•˜ë©´ 'ì™„ë£Œ'ì´ë‹¤.

## Rejected(ì‹¤íŒ¨)

`new Promise()` ë¡œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ì½œë°± í•¨ìˆ˜ ì¸ìë¡œ `resolve`ì™€ `reject`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í–ˆë‹¤. ì—¬ê¸°ì„œ rejectë¥¼ ì•„ë˜ì™€ ê°™ì´ í˜¸ì¶œí•˜ë©´ ì‹¤íŒ¨(Rejected) ìƒíƒœê°€ ëœë‹¤.

```javascript
new Promise(function(resolve, reject) {
	reject();
});
```

ê·¸ë¦¬ê³ , ì‹¤íŒ¨ ìƒíƒœê°€ ë˜ë©´ ì‹¤íŒ¨í•œ ì´ìœ (ì‹¤íŒ¨ ì²˜ë¦¬ì˜ ê²°ê³¼ ê°’)ë¥¼ `catch()` ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.

```javascript
function getData() {
  return new Promise(function (resolve, reject) {
    reject(new Error("Request is failed"));
  });
}

// reject()ì˜ ê²°ê³¼ ê°’ Errorë¥¼ errì— ë°›ìŒ
getData()
  .then()
  .catch(function (err) {
    console.log(err); // Error: Request is failed
  });
```

![promises](https://user-images.githubusercontent.com/53251100/137876547-bb05d062-f7ee-45a4-ae83-0040909c6046.png)

promise ì²˜ë¦¬ íë¦„ - ì¶œì²˜ : MDN

# Promiseê°€ ì™œ í•„ìš”í•œê°€ìš”?

í”„ë¡œë¯¸ìŠ¤ëŠ” ì£¼ë¡œ ì„œë¹„ìŠ¤ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ í™”ë©´ì— í‘œì‹œí•  ë•Œ ì‚¬ìš©í•œë‹¤. ì•„ë˜ ì˜ˆì œì˜ ê²°ê³¼ë¥¼ ë³´ë©´ fetch ì—ëŸ¬ê°€ ë¨¼ì € ë‚˜ì™€ì•¼ í•  ê²ƒ ê°™ì§€ë§Œ somethingì´ ë¨¼ì € ì¶œë ¥ëœë‹¤. ì´ê²Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¹„ë™ê¸°ì„±(async)ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” fetchë¥¼ ì‹¤í–‰í•˜ê³  ê³„ì†í•´ì„œ somethingì„ consloe.log í•œë‹¤. ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²Œ ì•„ë‹ˆë¼ í•œêº¼ë²ˆì— ì‹¤í–‰ëœë‹¤.

```javascript
const hello = fetch("http://google.com");

consoloe.log("something");
consoloe.log(hello);
//something
//Aeccess to fetch at...
```

ê·¸ëŸ¼ ì´ì œ Promiseë¥¼ ì¢€ ë” ì•Œì•„ë³´ì.

```javascript
const areYouStranger = new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve("Yes I am");
  }, 3000);
});

console.log(areYouStranger);

setInterval(() => {
  console.log(areYouStranger);
}, 1000);
//Promise {<pending>}
//Promise {<pending>}
//Promise {<pending>}
//Promise {<resolved>: "Yes I am"}
//Promise {<resolved>: "Yes I am"} ë¬´í•œë°˜ë³µ
```

ìœ„ ì½”ë“œì™€ ê°™ì€ ì½”ë“œì´ê³ , ì§§ê²Œ ì¤„ì˜€ì„ ë¿ ê²°ê³¼ëŠ” ê°™ë‹¤.

```javascript
const areYouStranger = new Promise((resolve, reject) => {
  setTimeout(resolve, 3000, "Yes I am");

console.log(areYouStranger);

setInterval(console.log, 1000, areYouStranger);
//Promise {<pending>}
//Promise {<pending>}
//Promise {<pending>}
//Promise {<resolved>: "Yes I am"}
////Promise {<resolved>: "Yes I am"} ë¬´í•œë°˜ë³µ
```

ğŸ’¡Promiseì˜ í•µì‹¬ì€, ì•„ì§ ëª¨ë¥´ëŠ” valueì™€ í•¨ê»˜ ì‘ì—…í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤.

Promiseê°€ APIë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ì–´ë–»ê²Œ í•˜ì§€? Promiserê°€ íŒŒì¼ì‹œìŠ¤í…œì—ì„œ íŒŒì¼ì„ ì—°ë‹¤ë©´? Promiseê°€ ìœ ì €ì˜ ì„¤ì •ì„ ì—°ë‹¤ë©´? ë¡œë”©ì´ ë‹¤ ë˜ë©´ ê·¸ê±¸ ë‹¤ì‹œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ ëŒë ¤ì¤€ë‹¤. ê·¸ë ‡ë‹¤ë©´ Promiseë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í• ê¹Œ?

# Using Promises

ìë°”ìŠ¤í¬ë¦½íŠ¸ì— Promiseê°€ ëë‚œ ì´í›„ì— ëª…ë ¹ì–´ë¥¼ ì „ë‹¬í•˜ë ¤ë©´ ì–¸ì œ ëë‚˜ëŠ”ê±´ ì¤‘ìš”í•˜ì§€ ì•Šê³  ëë‚˜ëŠ” ì´í›„ì— ëë‚˜ëŠ” ì‹œê°„ì´ 5ì´ˆê°€ ë˜ì—ˆê±´ 20ì´ˆê°€ ë˜ì—ˆê±´ ê·¸ê±´ ì¤‘ìš”ì¹˜ ì•Šê³  promiseê°€ ëì´ ë‚¬ì„ ë•Œ ê°’ì„ ëŒë ¤ë‹¬ë¼ê³  ëª…ë ¹ì–´ë¥¼ ë‚´ë¦¬ëŠ” ê²ƒì´ë‹¤.

```javascript
const areYouStranger = new Promise((resolve, reject) => {
  setTimeout(resolve, 3000, "Yes I am");
  //APIì—ì„œ ë¬´ì–¸ê°€ë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ìœ ì €ì˜ local storageì—ì„œ ì¿ í‚¤ë¼ë˜ê°€ ì´ëŸ°ê²ƒì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ë‹¤.
});

areYouStranger.then(value => console.log(value));
//Yes I am
```

## í”„ë¡œë¯¸ìŠ¤ ì˜ˆì œ 1

```javascript
const areYouStranger = new Promise((resolve, reject) => {
  setTimeout(reject, 1000, "Error!");
});

areYouStranger
  .then((result) => console.log(result))
  .catch((error) => console.log(error));
//1ì´ˆ í›„ Error! ì¶œë ¥
```

ğŸ’¡ìœ„ì˜ ì½”ë“œì—ì„œ thenì´ ë¨¼ì € ì‹¤í–‰ë˜ê³  ì´í›„ì— catchê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, thenê³¼ catchëŠ” ê°ê¸° ë‹¤ë¥¸ ìƒí™©ì—ì„œ ì‹¤í–‰ ëœë‹¤. then ì´ ì‹¤í–‰ë˜ë©´ catchëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. ë°˜ëŒ€ë¡œ catchê°€ ì‹¤í–‰ë˜ë©´ thenì€ ì ˆëŒ€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. reject ë˜ê±°ë‚˜ resolve ë˜ê±°ë‚˜.

## í”„ë¡œë¯¸ìŠ¤ ì˜ˆì œ 2

```javascript
function getData() {
  return new Promise(function(resolve, reject) {
    $.get('url ì£¼ì†Œ/products/1', function(response) {
      if (response) {
        resolve(response);
      }
      reject(new Error("Request is failed"));
    });
  });
}

// ìœ„ $.get() í˜¸ì¶œ ê²°ê³¼ì— ë”°ë¼ 'response' ë˜ëŠ” 'Error' ì¶œë ¥
getData().then(function(data) {
  console.log(data); // response ê°’ ì¶œë ¥
}).catch(function(err) {
  console.error(err); // Error ì¶œë ¥
});
```

ìœ„ ì½”ë“œëŠ” ì„œë²„ì—ì„œ ì œëŒ€ë¡œ ì‘ë‹µì„ ë°›ì•„ì˜¤ë©´ `resolve()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³ , ì‘ë‹µì´ ì—†ìœ¼ë©´ `reject()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì˜ˆì œë‹¤. í˜¸ì¶œëœ ë©”ì„œë“œì— ë”°ë¼ `then()`ì´ë‚˜ `catch()`ë¡œ ë¶„ê¸°í•˜ì—¬ ì‘ë‹µ ê²°ê³¼ ë˜ëŠ” ì˜¤ë¥˜ë¥¼ ì¶œë ¥í•œë‹¤.

# ì—¬ëŸ¬ ê°œì˜ í”„ë¡œë¯¸ìŠ¤ ì—°ê²°í•˜ê¸° (Promise Chaining)

í”„ë¡œë¯¸ìŠ¤ì˜ ë˜ ë‹¤ë¥¸ íŠ¹ì§•ì€ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤. ì•ì˜ ì˜ˆì œì—ì„œ `then()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ë‚˜ë©´ ìƒˆë¡œìš´ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.

```javascript
function getData() {
  return new Promise({
    // ...
  });
}

// then() ìœ¼ë¡œ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì—°ê²°í•œ í˜•ì‹
getData()
  .then(function(data) {
    // ...
  })
  .then(function() {
    // ...
  })
  .then(function() {
    // ...
  });
```

## ì˜ˆì œ 1

```javascript
const hello = new Promise((resolve, reject) => {
  resolve(2);
});

hello
  .then((number) => {
    console.log(number * 2);
    return number * 2;
  })
  .then((otherNumber) => {
    console.log(otherNumber * 2);
  });
//4
//8
```

ì—¬ëŸ¬ ê°œì˜ promiseë¥¼ ì—°ê²°í•  ë•ŒëŠ” ê¸°ì¡´ì˜ then ì—ì„œ return ê°’ì´ ìˆì–´ì•¼ í•œë‹¤. ìœ„ì˜ then ì—ì„œ return ê°’ì„ ì–»ì–´ë‚´ëŠ” ê²ƒì´ë‹¤.

## ì˜ˆì œ 2

ì•„ë˜ëŠ” errorì™€ catchê¹Œì§€ ë³´ì—¬ì£¼ëŠ” ì˜ˆì œì´ë‹¤. Arrow function ì—ëŠ” return ì´ ìƒëµë˜ì–´ ìˆë‹¤. (.then((lastNumber) => console.log(lastNumber)))

```javascript
const hello = new Promise((resolve, reject) => {
  resolve(2);
});

const timesTwo = (number) => number * 2;

hello
  .then(timesTwo)
  .then(timesTwo)
  .then(timesTwo)
  .then(timesTwo)
  .then(timesTwo)
  .then(() => {
    throw Errow("Something is wrong");
  })
  .then((lastNumber) => console.log(lastNumber))
  .catch((error) => console.log(error));
//ReferenceError: Errow is not defined
```

# Promise.all

> **`Promise.all()`** ë©”ì„œë“œëŠ” ìˆœíšŒ ê°€ëŠ¥í•œ ê°ì²´ì— **ì£¼ì–´ì§„ ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ê°€ ì´í–‰í•œ í›„**, í˜¹ì€ í”„ë¡œë¯¸ìŠ¤ê°€ ì£¼ì–´ì§€ì§€ ì•Šì•˜ì„ ë•Œ ì´í–‰í•˜ëŠ” [`Promise`](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise)**ë¥¼ ë°˜í™˜**í•©ë‹ˆë‹¤. ì£¼ì–´ì§„ í”„ë¡œë¯¸ìŠ¤ ì¤‘ í•˜ë‚˜ê°€ ê±°ë¶€í•˜ëŠ” ê²½ìš°, ì²« ë²ˆì§¸ë¡œ ê±°ì ˆí•œ í”„ë¡œë¯¸ìŠ¤ì˜ ì´ìœ ë¥¼ ì‚¬ìš©í•´ ìì‹ ë„ ê±°ë¶€í•©ë‹ˆë‹¤.

ì£¼ì–´ì§„ ëª¨ë“  Promiseë¥¼ ì‹¤í–‰í•œ í›„ ì§„í–‰ë˜ëŠ” í•˜ë‚˜ì˜ Promiseë¥¼ ë°˜í™˜í•œë‹¤. ëª¨ë“  Promiseê°€ ì „ë¶€ resolve ë˜ê³  ë‚˜ë©´ ë§ˆì§€ë§‰ Promiseë¥¼ ë¦¬í„´ê°’ìœ¼ë¡œ ì£¼ëŠ” ê²ƒì´ë‹¤.

## ì˜ˆì œ 1

```javascript
const p1 = new Promise((resolve) => {
  setTimeout(resolve, 5000, "First");
});

const p2 = new Promise((resolve) => {
  setTimeout(resolve, 3000, "Second");
});

const p3 = new Promise((resolve) => {
  setTimeout(resolve, 1000, "Third");
});

const motherPromise = Promise.all([p1, p2, p3]);

motherPromise.then((values) => console.log(values));
// 5ì´ˆ í›„ (3) ["First", "Second", "Third"] ì¶œë ¥
```

Promise.all ì´ ë‹¤ë¥¸ Promiseë“¤ì´ ì „ë¶€ ì§„í–‰ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì§„í–‰ëœ ê²ƒì´ë‹¤. ì¶œë ¥ë˜ëŠ” ê°’ë“¤ì´ Arrary ë¼ëŠ” ëœ»ë„ ëœë‹¤. 

## ì˜ˆì œ 2

```javascript
const p1 = new Promise((resolve) => {
  setTimeout(resolve, 5000, "First");
});

const p2 = new Promise((resolve, reject) => {
  setTimeout(reject, 3000, "I'm Error");
});

const p3 = new Promise((resolve) => {
  setTimeout(resolve, 1000, "Third");
});

const motherPromise = Promise.all([p1, p2, p3]);

motherPromise
  .then((values) => console.log(values))
  .catch((err) => console.log(err));
//3ì´ˆ í›„ I'm Error ì¶œë ¥
```

í•˜ë‚˜ë¼ë„ ì—ëŸ¬ê°€ ë‚˜ë©´ ë‚˜ë¨¸ì§€ ë˜í•œ ì§„í–‰í•˜ì§€ ëª»í•œë‹¤. catchëŠ” const p2 ë¶€ë¶„ì— ì ì–´ë„ ëœë‹¤. ìœ„ì˜ ì˜ˆì œëŠ” ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ì „ë¶€ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©í•œë‹¤. 

# Promise.race





> **`Promise.race()`** ë©”ì†Œë“œëŠ” Promise ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. ì´ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ëŠ” iterable ì•ˆì— ìˆëŠ” **í”„ë¡œë¯¸ìŠ¤ ì¤‘ì— ê°€ì¥ ë¨¼ì € ì™„ë£Œëœ ê²ƒì˜ ê²°ê³¼ê°’ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ì´í–‰í•˜ê±°ë‚˜ ê±°ë¶€**í•œë‹¤.

```javascript
const p1 = new Promise((resolve) => {
  setTimeout(resolve, 5000, "First");
});

const p2 = new Promise((resolve, reject) => {
  setTimeout(reject, 3000, "I'm Error");
});

const p3 = new Promise((resolve) => {
  setTimeout(resolve, 1000, "Third");
});

const motherPromise = Promise.race([p1, p2, p3]);

motherPromise
  .then((values) => console.log(values))
  .catch((err) => console.log(err));
//1ì´ˆ í›„ Third ì¶œë ¥ (ê°€ì¥ ë¹ ë¥´ê¸° ë•Œë¬¸ì—)
```

ì‚¬ìš©ë²•ì€ `Promise.all()` ê³¼ ê°™ë‹¤. ë‹¤ë¥¸ ì ì€ **ì„¸ ê°œ ì¤‘ì— í•˜ë‚˜ë¼ë„ resolve ë˜ê±°ë‚˜ reject ë˜ë©´ ëœë‹¤ëŠ” ê²ƒ**ì´ë‹¤. Promise.raceê°€ resolve ë˜ì–´ì„œ thenìœ¼ë¡œ ë„˜ì–´ê°€ê±°ë‚˜ reject ë˜ì–´ì„œ catch ë¡œ ë„˜ì–´ê°€ë ¤ë©´ p1, p2, p3 ì¤‘ í•˜ë‚˜ë§Œ resolve ë˜ê±°ë‚˜ reject ë˜ë©´ ëœë‹¤. ì—¬ê¸°ì„œ **ê°€ì¥ ë¹ ë¥¸ ê²ƒì´ ê²°ê³¼ë¥¼ ì •í•œë‹¤**.

```javascript
const p1 = new Promise((resolve) => {
  setTimeout(resolve, 5000, "First");
});

const p2 = new Promise((resolve, reject) => {
  setTimeout(reject, 3000, "I'm Error");
});

const p3 = new Promise((resolve) => {
  setTimeout(resolve, 1000, "Third");
});

//ì´ë ‡ê²Œ ë°”ë€Œì–´ë„ ê²°ê³¼ëŠ” ê°™ë‹¤.
Promise([p1, p2, p3])
  .then((values) => console.log(values))
  .catch((err) => console.log(err));
```

# finally

> Promiseê°€ ì²˜ë¦¬ë˜ë©´ **ì¶©ì¡±ë˜ê±°ë‚˜ ê±°ë¶€ë˜ëŠ”ì§€ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ì§€ì •ëœ ì½œë°± í•¨ìˆ˜ê°€ ì‹¤í–‰**ë©ë‹ˆë‹¤. ì´ê²ƒì€ Promiseê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ ë˜ì—ˆëŠ”ì§€ ê±°ì ˆë˜ì—ˆëŠ”ì§€ì— ê´€ê³„ì—†ì´ **`Promise`ê°€ ì²˜ë¦¬ ëœ í›„ì— ì½”ë“œê°€ ë¬´ì¡°ê±´ í•œ ë²ˆì€ ì‹¤í–‰**ë˜ëŠ” ê²ƒì„ ì œê³µí•©ë‹ˆë‹¤.

ì½”ë©˜íŠ¸ë¥¼ APIë¥¼ í†µí•´ ì €ì¥í•˜ê³  ì‹¶ì–´. ê·¸ë˜ì„œ ìœ ì €ê°€ save ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, spinnerë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ì–´. ë§Œì•½ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´, spinnerë¥¼ ë©ˆì¶”ê³  ìœ ì €ì—ê²Œ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ë¼ê³  ë³´ì—¬ì£¼ê³  ì‹¶ê³ , ì—…ë¡œë“œì— ì„±ê³µí•˜ë©´ spinnerë¥¼ ë©ˆì¶”ê³  ì‹¶ì–´. ì´ê²Œ ë°”ë¡œ finally ì´ë‹¤.

```javascript
const p1 = new Promise((resolve, reject) => {
  setTimeout(reject, 2000, "First");
})
  .then((value) => console.log(value))
  .catch((err) => console.log(err))
  .finally(() => console.log("I'm done"));
// 2ì´ˆí›„ First
// I'm done ì¶œë ¥
```

finallyëŠ” APIë¥¼ í˜¸ì¶œí•  ë•Œ ë§ì´ ì“°ì¸ë‹¤. ë¡œë”©í•  ë•Œ, í•˜ë‚˜ë¥¼ ì–»ê³  ë‘ê°œë¥¼ ì–»ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê±°ë‚˜ ë¡œë”©ì„ ë©ˆì¶”ê±°ë‚˜ ë­”ê°€ë¥¼ í•˜ê±°ë‚˜ í•  ë•Œ ë§ì´ ì“°ì¸ë‹¤.

# Example Promises

```javascript
fetch("https://yts.am/api/v2/list_movies.json")
  .then((response) => {
    console.log(response);
    return response.json();
  })
  .then((json) => console.log(json))
  .catch((err) => console.log(`âŒ ${err}`));
//Response {type: "cors", url: "https://yts.am/api/v2/list_movies.json"}..
```

# ì°¸ê³ í•œ ìë£Œ

[Nomad Coders](https://nomadcoders.co/courses) : ES6ì˜ ì •ì„

[Promise MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)

[ìë°”ìŠ¤í¬ë¦½íŠ¸ Promise ì‰½ê²Œ ì´í•´í•˜ê¸° - captain pangyo](https://joshua1988.github.io/web-development/javascript/promise-for-beginners/)

[Promise.all MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all)

[Promise.race MDN](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/race)

[Promise.prototype.finally()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally)

